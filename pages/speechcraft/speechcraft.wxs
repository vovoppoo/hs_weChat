

var showState = false

var bindtapFn = function (e, instance) {
  console.log(JSON.stringify(e), 'bindtouchstart，携带值为2')
  var dataset = e.instance.getDataset()
  var st = e.instance.getState()

  if (showState) {
    e.instance.addClass('dis-none')
    showState = false
  } else {
    e.instance.removeClass('dis-none')
    showState = true
  }
}

var startX = 0
var startY = 0
var bindtouchstart = function (e, instance) {
  var dataset = e.instance.getDataset()
  var st = e.instance.getState()
  startX = e.changedTouches[0].pageX
  startY = e.changedTouches[0].pageY

}
var bindtouchend = function (e, instance) {
  // console.log(JSON.stringify(e), 'bindtouchstart，携带值为2', startX)
  var dataset = e.instance.getDataset()
  var st = e.instance.getState()
  var move = startX - e.changedTouches[0].pageX
  var moveY = startY - e.changedTouches[0].pageY

  if (moveY < 0) {
    moveY = moveY * (-1)
  }
  console.log(moveY, 'moveY')

  if (move > 70 && moveY < 30) {
    e.instance.setStyle({
      left: '-300' + 'rpx',
      overflow: 'visible !important'
    })
  } else if (move < 70 && moveY < 30) {
    e.instance.setStyle({
      left: '0' + 'rpx',
      overflow: 'hidden'
    })
  }

}


var cloCard = function (e, instance) {
  console.log(JSON.stringify(e), 'bindtouchstart，携带值为2')
  var dataset = e.instance.getDataset()
  var ComputedStyle = e.instance.getComputedStyle
  var st = e.instance.getState()
  e.instance.setStyle({
    left: '0' + 'rpx',
    overflow: 'hidden'
  })
}

module.exports = {
  showMenuFn: bindtapFn,
  touchstart: bindtouchstart,
  touchend: bindtouchend,
  cloCard: cloCard
} 